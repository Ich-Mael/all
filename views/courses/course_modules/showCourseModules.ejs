<% layout('layouts/courseBoilerplate') %>
<style>
  .module-card {
    box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,
      rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,
      rgba(255, 255, 255, 0.08) 0px 1px 0px inset;
  }
</style>

<div class="container col-md-10">
  <h2 class="text-center py-4"><%= course.title %></h2>
  <hr />
  <h4 class="text-primary text-center py-3">All modules</h4>
  <div class="row my-4">
    <div class="d-flex justify-content-around flex-wrap">
      <% for(let chapter of course.modules){ %>
      <div class="module-card my-3 p-3 col-md-5">
        <h4 class="text-center">
          Module <%= course.modules.indexOf(chapter) +1 %>
        </h4>
        <hr />
        <h4 class="text-center" style="min-height: 3rem;"><%= chapter.title %></h4>
        <div class="d-flex my-3 justify-content-center">
          <a
            href="/courses/<%=course._id%>/modules/<%=chapter._id%>"
            class="d-block mx-1 btn btn-success"
            >View
          </a>
          <a
            href="/admindashboard/courses/<%=course._id%>/modules/<%=chapter._id%>/edit"
            class="d-block mx-1 btn btn-primary"
            >Edit
          </a>
          <form
            action="/admindashboard/courses/<%=course._id%>/modules/<%=chapter._id%>?_method=DELETE"
            method="POST"
          >
            <button type="submit" class="d-block mx-1 btn btn-danger">
              Delete
            </button>
          </form>
        </div>
      </div>
      <% } %>
    </div>
  </div>
</div>
